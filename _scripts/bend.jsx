/*
* Decompiled with Jsxer
* Version: 1.6.0
* JSXBIN 2.0
*/


   function activateCompViewer2() {
      var A = (app.activeViewer) && (app.activeViewer.type === ViewerType.VIEWER_COMPOSITION);
      if (A) {
         app.activeViewer.setActive();
      }
      return A;
   }
function bendIt() {
      try {
         app.beginUndoGroup("Bender");
         var comp = activateCompViewer2() ? app.project.activeItem : null;
         if ((!comp) || (!(comp instanceof CompItem))) {
            showAlertWindow("Please make sure that you have an active composition selected.");
            return;
         }
         var scriptFolderPath = File($.fileName).parent.absoluteURI + "/_scripts";
         var script = "bend.ffx";
         var preset = new File(scriptFolderPath + "/" + script);
         if (!preset.exists) {
            showAlertWindow(scriptFolderPath + "/" + script);
            showAlertWindow("make sure the 'bend.ffx' file is located in the same folder with the script file!");
            return;
         }
         var layers = comp.selectedLayers;
         var numLayers = layers.length;
         if (numLayers < 1) {
            showAlertWindow("Please select at least one layer");
            return;
         }
         for (var i = 0; i < layers.length; i++) {
            layers[i].selected = false;
         }
         for (var k = 0; k < numLayers; k++) {
            layers[k].selected = true;
            layers[k].applyPreset(preset);
            layers[k].selected = false;
            for (var j = 1; j <= layers[k].effect.numProperties; j++) {
               var source = layers[k].source;
               if (layers[k].effect.property(j).matchName.substr(0, 10) === "CC Bend It") {
                  if (source == null) {
                     s = "var _0x21c9=[\'914322ffCnLd\',\'toComp\',\'sourceRectAtTime\',\'Flip\',\'215206IioKEy\',\'width\',\'2LiySOX\',\'Direction\',\'1sAnCiv\',\'395300YQqagG\',\'value\',\'796787bUuvOW\',\'Bend Tool\',\'height\',\'2Lqgupr\',\'42639ouxWIn\',\'913534ISiKmP\',\'1stxFMG\',\'left\',\'270517qVlggj\',\'9Hklxdj\',\'top\'];var _0x3c22ef=_0x19f9;(function(_0x25cc3a,_0x23a11f){var _0x5363b9=_0x19f9;while(!![]){try{var _0xc1d621=parseInt(_0x5363b9(0x9b))*-parseInt(_0x5363b9(0x93))+parseInt(_0x5363b9(0x99))*-parseInt(_0x5363b9(0x97))+parseInt(_0x5363b9(0x8c))*parseInt(_0x5363b9(0x8b))+-parseInt(_0x5363b9(0x8d))+-parseInt(_0x5363b9(0x9c))+parseInt(_0x5363b9(0x88))*parseInt(_0x5363b9(0x8e))+-parseInt(_0x5363b9(0x90))*-parseInt(_0x5363b9(0x91));if(_0xc1d621===_0x23a11f){break;}else{_0x25cc3a[\'push\'](_0x25cc3a[\'shift\']());}}catch(_0xd4e8b1){_0x25cc3a[\'push\'](_0x25cc3a[\'shift\']());}}}(_0x21c9,0xa1e6e));function b(_0x287988,_0x103079,_0xb60c3,_0x2425e8,_0x21e6f){if(_0x103079>_0xb60c3){var _0x271eaf=_0x103079;_0x103079=_0xb60c3;_0xb60c3=_0x271eaf;_0x271eaf=_0x2425e8;_0x2425e8=_0x21e6f;_0x21e6f=_0x271eaf;}var _0x245c0e=(_0x287988-_0x103079)/(_0xb60c3-_0x103079);return _0x2425e8+(_0x21e6f-_0x2425e8)*_0x245c0e;}function a(_0x63f2f,_0x276925){var _0x39e36f=_0x19f9;var _0x207df2=_0x63f2f[_0x39e36f(0x95)](time);var _0x36c44e=_0x207df2[_0x39e36f(0x92)];var _0x309eb0=_0x207df2[_0x39e36f(0x8f)];var _0xc7fbc4=_0x309eb0+_0x207df2[_0x39e36f(0x98)];var _0x40b222=_0x36c44e+_0x207df2[_0x39e36f(0x8a)];var _0x309136=[b(_0x276925[0x0],0x0,0x64,_0x309eb0,_0xc7fbc4),b(_0x276925[0x1],0x0,0x64,_0x36c44e,_0x40b222)];return _0x63f2f[_0x39e36f(0x94)](_0x309136,time);}fx=effect(_0x3c22ef(0x89));dir=fx(_0x3c22ef(0x9a))[_0x3c22ef(0x87)];sty=fx(\'Style\')[_0x3c22ef(0x87)];if(sty==0x3){center=0x32;flip=![];}else{center=0x0;flip=fx(_0x3c22ef(0x96))[\'value\'];}if(sty==0x2){if(dir==0x1){flip?rFix=0.7:rFix=0x0;fix=0.2;}else{flip?rFix=0.2:rFix=0.2;fix=-0x2;}}else{rFix=0x0;fix=0x0;}up=a(thisLayer,[0x32,-fix/0x2]);down=a(thisLayer,[0x32,0x64+fix-center]);left=a(thisLayer,[fix/0x2+center,0x32]);right=a(thisLayer,[0x64-rFix,0x32]);if(flip){if(dir==0x1){pos=right;}else{pos=up;}}else{if(dir==0x1){pos=left;}else{pos=down;}}function _0x19f9(_0x1e777c,_0x1a4394){_0x19f9=function(_0x21c9d8,_0x19f9d5){_0x21c9d8=_0x21c9d8-0x87;var _0x4a174a=_0x21c9[_0x21c9d8];return _0x4a174a;};return _0x19f9(_0x1e777c,_0x1a4394);}value+pos;";
                     e = "var _0x20de=[\'Flip\',\'913585BbDrvU\',\'hasParent\',\'rotation\',\'left\',\'9689QcuUWy\',\'191412XNeBJa\',\'height\',\'61kZcPtR\',\'parent\',\'789764uaayIY\',\'Style\',\'Direction\',\'785368INaHhK\',\'470558ztvITl\',\'Bend Tool\',\'value\',\'width\',\'top\',\'toComp\',\'85322LBepOg\'];var _0x5be148=_0x1003;(function(_0x5eef89,_0x54e59a){var _0x29c9f5=_0x1003;while(!![]){try{var _0xf3ab1f=parseInt(_0x29c9f5(0xd1))+parseInt(_0x29c9f5(0xde))+-parseInt(_0x29c9f5(0xcd))+parseInt(_0x29c9f5(0xcb))*parseInt(_0x29c9f5(0xdd))+parseInt(_0x29c9f5(0xd7))+parseInt(_0x29c9f5(0xd0))+-parseInt(_0x29c9f5(0xd9));if(_0xf3ab1f===_0x54e59a){break;}else{_0x5eef89[\'push\'](_0x5eef89[\'shift\']());}}catch(_0x5f4ad7){_0x5eef89[\'push\'](_0x5eef89[\'shift\']());}}}(_0x20de,0x669f4));function _0x1003(_0x481a20,_0x5dde9e){_0x1003=function(_0x20de6b,_0x100384){_0x20de6b=_0x20de6b-0xcb;var _0x503272=_0x20de[_0x20de6b];return _0x503272;};return _0x1003(_0x481a20,_0x5dde9e);}try{function extend(_0x8a06ca,_0x132c49,_0x16ffe8){_0x16ffe8==0x1?d=0x0:d=0x5a;r=degreesToRadians(_0x132c49+d);x=_0x8a06ca*Math[\'cos\'](r);y=_0x8a06ca*Math[\'sin\'](r);v=[x,y];return v;}function measure(_0x21b830,_0x230588,_0x43cbfa,_0x3436ae,_0x11f755,_0x310570){if(_0x21b830/_0x230588<1.56&&_0x21b830/_0x230588>0x1){if(_0x11f755==0x1){t=_0x21b830/_0x230588*1.4292;return extend(_0x43cbfa*t,_0x310570,_0x11f755);}else{t=_0x21b830/_0x230588*1.4292;return extend(_0x43cbfa*t,_0x310570,_0x11f755);}}else if(_0x230588>=_0x21b830){_0x11f755==0x1?t=_0x230588/_0x21b830*1.4292:t=_0x21b830/_0x230588*1.4292;return extend(_0x43cbfa*t,_0x310570,_0x11f755);}else if(_0x21b830>_0x230588&&_0x21b830/_0x230588<1.56){t=_0x21b830/_0x230588*1.4292;return extend(_0x43cbfa*t,_0x310570,_0x11f755);}else{if(_0x11f755==0x2){t=_0x21b830/_0x230588*1.4292;return extend(_0x43cbfa*t,_0x310570,_0x11f755);}else{return[0x0,0x0];}}}function b(_0x26dc48,_0x3c269e,_0x22e818,_0x1f7a80,_0x4ced32){if(_0x3c269e>_0x22e818){var _0x2eda67=_0x3c269e;_0x3c269e=_0x22e818;_0x22e818=_0x2eda67;_0x2eda67=_0x1f7a80;_0x1f7a80=_0x4ced32;_0x4ced32=_0x2eda67;}var _0x1e8fd7=(_0x26dc48-_0x3c269e)/(_0x22e818-_0x3c269e);return _0x1f7a80+(_0x4ced32-_0x1f7a80)*_0x1e8fd7;}function a(_0x4de5fd,_0x45edbc){var _0x481192=_0x1003;var _0xfc9d08=_0x4de5fd[\'sourceRectAtTime\'](time);var _0x95414e=_0xfc9d08[_0x481192(0xd5)];var _0x3bcb7e=_0xfc9d08[_0x481192(0xdc)];var _0x30fe52=_0x3bcb7e+_0xfc9d08[_0x481192(0xd4)];var _0x4b4b3d=_0x95414e+_0xfc9d08[_0x481192(0xdf)];var _0x128c91=[b(_0x45edbc[0x0],0x0,0x64,_0x3bcb7e,_0x30fe52),b(_0x45edbc[0x1],0x0,0x64,_0x95414e,_0x4b4b3d)];return _0x4de5fd[_0x481192(0xd6)](_0x128c91,time);}fx=effect(_0x5be148(0xd2));dir=fx(_0x5be148(0xcf))[\'value\'];sty=fx(_0x5be148(0xce))[_0x5be148(0xd3)];if(sty==0x3){center=0x32;flip=![];}else{center=0x0;flip=fx(_0x5be148(0xd8))[_0x5be148(0xd3)];}up=a(thisLayer,[0x32,-center]);down=a(thisLayer,[0x32,0x64+center]);left=a(thisLayer,[center,0x32]);right=a(thisLayer,[0x64+center,0x32]);w=length(left,right);h=length(up,down);if(w==0x0)w=0x1;if(h==0x0)h=0x1;L=thisLayer;rot=L[\'rotation\'];while(L[_0x5be148(0xda)]){rot+=L[_0x5be148(0xcc)][_0x5be148(0xdb)];L=L[_0x5be148(0xcc)];}r=rot%0x168;r<0x0?r=0x168+r:r=r;if(flip){if(dir==0x1){pos=left-measure(w,h,w,-0x1,dir,rot);}else{pos=down+measure(w,h,h,0x1,dir,rot);}}else{if(dir==0x1){pos=right+measure(w,h,w,0x1,dir,rot);}else{pos=up-measure(w,h,h,-0x1,dir,rot);}}value+pos;}catch(_0x9bf446){value;}";
                  }
                  else {
                     s = "var _0x485c=[\'Direction\',\'top\',\'11351EubUCf\',\'height\',\'151984rkrcyd\',\'6PSpxLe\',\'43834YUixqU\',\'1WuvFxw\',\'Flip\',\'width\',\'Bend Tool\',\'1379996FhfXqO\',\'left\',\'435189DuFGWp\',\'294884rxufYM\',\'Style\',\'value\',\'556476FqSdUp\',\'37ZSAtip\'];var _0x2f7c59=_0x3fa2;(function(_0x5cde87,_0x3f9452){var _0xd7f86f=_0x3fa2;while(!![]){try{var _0x35d41f=-parseInt(_0xd7f86f(0x9a))+-parseInt(_0xd7f86f(0x9c))+parseInt(_0xd7f86f(0x94))+-parseInt(_0xd7f86f(0xa1))+parseInt(_0xd7f86f(0x98))*-parseInt(_0xd7f86f(0x95))+-parseInt(_0xd7f86f(0xa3))*-parseInt(_0xd7f86f(0x9d))+-parseInt(_0xd7f86f(0x9b))*-parseInt(_0xd7f86f(0xa4));if(_0x35d41f===_0x3f9452){break;}else{_0x5cde87[\'push\'](_0x5cde87[\'shift\']());}}catch(_0xdd4ff5){_0x5cde87[\'push\'](_0x5cde87[\'shift\']());}}}(_0x485c,0xbacf0));function _0x3fa2(_0x53d318,_0xa75026){_0x3fa2=function(_0x485c41,_0x3fa260){_0x485c41=_0x485c41-0x92;var _0x57c2a0=_0x485c[_0x485c41];return _0x57c2a0;};return _0x3fa2(_0x53d318,_0xa75026);}function b(_0x392c8a,_0x2753db,_0x39c72e,_0x11464c,_0x44d285){if(_0x2753db>_0x39c72e){var _0x19d043=_0x2753db;_0x2753db=_0x39c72e;_0x39c72e=_0x19d043;_0x19d043=_0x11464c;_0x11464c=_0x44d285;_0x44d285=_0x19d043;}var _0x5aaea1=(_0x392c8a-_0x2753db)/(_0x39c72e-_0x2753db);return _0x11464c+(_0x44d285-_0x11464c)*_0x5aaea1;}function a(_0x3dd969,_0x4f5867){var _0x3541f9=_0x3fa2;var _0x590738=_0x3dd969[\'sourceRectAtTime\'](time);var _0x49d8f9=_0x590738[_0x3541f9(0x97)];var _0x6f7dea=_0x590738[_0x3541f9(0xa2)];var _0x5ad6dc=_0x6f7dea+_0x590738[_0x3541f9(0x9f)];var _0x253ff3=_0x49d8f9+_0x590738[_0x3541f9(0x99)];var _0x16519f=[b(_0x4f5867[0x0],0x0,0x64,_0x6f7dea,_0x5ad6dc),b(_0x4f5867[0x1],0x0,0x64,_0x49d8f9,_0x253ff3)];return _0x3dd969[\'toComp\'](_0x16519f,time);}fx=effect(_0x2f7c59(0xa0));dir=fx(_0x2f7c59(0x96))[\'value\'];sty=fx(_0x2f7c59(0x92))[_0x2f7c59(0x93)];if(sty==0x3){center=0x32;flip=![];}else{center=0x0;flip=fx(_0x2f7c59(0x9e))[\'value\'];}if(sty==0x2){if(dir==0x1){flip?rFix=0.7:rFix=0x0;fix=0.2;}else{flip?rFix=0.2:rFix=0.2;fix=-0x2;}}else{rFix=0x0;fix=0x0;}up=fromComp(a(thisLayer,[0x32,-fix/0x2]));down=fromComp(a(thisLayer,[0x32,0x64+fix-center]));left=fromComp(a(thisLayer,[fix/0x2+center,0x32]));right=fromComp(a(thisLayer,[0x64-rFix,0x32]));if(flip){if(dir==0x1){pos=right;}else{pos=up;}}else{if(dir==0x1){pos=left;}else{pos=down;}}value+pos;";
                     e = "var _0x369f=[\'250436IRAwxW\',\'Direction\',\'top\',\'450550bpwIRD\',\'toComp\',\'2ctWcuK\',\'156303uxtbYI\',\'sin\',\'86171HWoWYs\',\'value\',\'3gGwPUv\',\'cos\',\'width\',\'Flip\',\'128587hMlpyH\',\'371865HbfYXc\',\'50686tOOvtN\',\'height\',\'left\',\'Style\'];function _0x1d00(_0x9eb2c5,_0x13c636){_0x1d00=function(_0x369f66,_0x1d003f){_0x369f66=_0x369f66-0x146;var _0xa7ede6=_0x369f[_0x369f66];return _0xa7ede6;};return _0x1d00(_0x9eb2c5,_0x13c636);}var _0x25ca3c=_0x1d00;(function(_0x39a63d,_0xe62d00){var _0x515db3=_0x1d00;while(!![]){try{var _0x53ea1=parseInt(_0x515db3(0x150))+parseInt(_0x515db3(0x146))*-parseInt(_0x515db3(0x155))+parseInt(_0x515db3(0x158))+parseInt(_0x515db3(0x147))+-parseInt(_0x515db3(0x14f))+parseInt(_0x515db3(0x151))*-parseInt(_0x515db3(0x14b))+parseInt(_0x515db3(0x149));if(_0x53ea1===_0xe62d00){break;}else{_0x39a63d[\'push\'](_0x39a63d[\'shift\']());}}catch(_0x5e51fe){_0x39a63d[\'push\'](_0x39a63d[\'shift\']());}}}(_0x369f,0x452ec));try{function extend(_0x1061fc,_0x5234ab,_0x338aa1){var _0x22a31b=_0x1d00;_0x338aa1==0x1?d=0x0:d=0x5a;r=degreesToRadians(_0x5234ab+d);x=_0x1061fc*Math[_0x22a31b(0x14c)](r);y=_0x1061fc*Math[_0x22a31b(0x148)](r);v=[x,y];return v;}function measure(_0x1feeaa,_0x2d2b93,_0x2e1f7e,_0x11b4e3,_0x18336e,_0x295a0b){if(_0x1feeaa/_0x2d2b93<1.56&&_0x1feeaa/_0x2d2b93>0x1){if(_0x18336e==0x1){t=_0x1feeaa/_0x2d2b93*1.4292;return extend(_0x2e1f7e*t,_0x295a0b,_0x18336e);}else{t=_0x1feeaa/_0x2d2b93*1.4292;return extend(_0x2e1f7e*t,_0x295a0b,_0x18336e);}}else if(_0x2d2b93>=_0x1feeaa){_0x18336e==0x1?t=_0x2d2b93/_0x1feeaa*1.4292:t=_0x1feeaa/_0x2d2b93*1.4292;return extend(_0x2e1f7e*t,_0x295a0b,_0x18336e);}else if(_0x1feeaa>_0x2d2b93&&_0x1feeaa/_0x2d2b93<1.56){t=_0x1feeaa/_0x2d2b93*1.4292;return extend(_0x2e1f7e*t,_0x295a0b,_0x18336e);}else{if(_0x18336e==0x2){t=_0x1feeaa/_0x2d2b93*1.4292;return extend(_0x2e1f7e*t,_0x295a0b,_0x18336e);}else{return[0x0,0x0];}}}function b(_0x12d5a7,_0x307d2d,_0x457e8d,_0x1e7aec,_0x52fc05){if(_0x307d2d>_0x457e8d){var _0x298909=_0x307d2d;_0x307d2d=_0x457e8d;_0x457e8d=_0x298909;_0x298909=_0x1e7aec;_0x1e7aec=_0x52fc05;_0x52fc05=_0x298909;}var _0x25a92f=(_0x12d5a7-_0x307d2d)/(_0x457e8d-_0x307d2d);return _0x1e7aec+(_0x52fc05-_0x1e7aec)*_0x25a92f;}function a(_0x11aebb,_0x4adf92){var _0x4d6eb1=_0x1d00;var _0xcbfdf7=_0x11aebb[\'sourceRectAtTime\'](time);var _0x474875=_0xcbfdf7[_0x4d6eb1(0x157)];var _0x4fe3c7=_0xcbfdf7[_0x4d6eb1(0x153)];var _0x49e882=_0x4fe3c7+_0xcbfdf7[_0x4d6eb1(0x14d)];var _0x4e18d1=_0x474875+_0xcbfdf7[_0x4d6eb1(0x152)];var _0x363516=[b(_0x4adf92[0x0],0x0,0x64,_0x4fe3c7,_0x49e882),b(_0x4adf92[0x1],0x0,0x64,_0x474875,_0x4e18d1)];return _0x11aebb[_0x4d6eb1(0x159)](_0x363516,time);}fx=effect(\'Bend Tool\');dir=fx(_0x25ca3c(0x156))[_0x25ca3c(0x14a)];sty=fx(_0x25ca3c(0x154))[_0x25ca3c(0x14a)];if(sty==0x3){center=0x32;flip=![];}else{center=0x0;flip=fx(_0x25ca3c(0x14e))[_0x25ca3c(0x14a)];}up=fromComp(a(thisLayer,[0x32,0x0]));down=fromComp(a(thisLayer,[0x32,0x64+center]));left=fromComp(a(thisLayer,[center,0x32]));right=fromComp(a(thisLayer,[0x64,0x32]));up=fromComp(a(thisLayer,[0x32,-center]));down=fromComp(a(thisLayer,[0x32,0x64+center]));left=fromComp(a(thisLayer,[center,0x32]));right=fromComp(a(thisLayer,[0x64+center,0x32]));w=length(left,right);h=length(up,down);if(w==0x0)w=0x1;if(h==0x0)h=0x1;rot=0x0;r=rot%0x168;r<0x0?r=0x168+r:r=r;if(flip){if(dir==0x1){pos=left-measure(w,h,w,-0x1,dir,rot);}else{pos=down+measure(w,h,h,0x1,dir,rot);}}else{if(dir==0x1){pos=right+measure(w,h,w,0x1,dir,rot);}else{pos=up-measure(w,h,h,-0x1,dir,rot);}}value+pos;}catch(_0x3fdfd7){value;}";
                  }
                  layers[k].effect.property(j)("Start").expression = s;
                  layers[k].effect.property(j)("End").expression = e;
                  layers[k].effect.property(j)("Distort").setValue(1);
                  layers[k].effect("Bend Tool")(1).setValue(100);
                  layers[k].effect("Bend Tool")(2).setValue(1);
                  layers[k].effect("Bend Tool")(3).setValue(3);
               }
            }
            layers[k].selected = false;
         }
         for (var k = 0; k < numLayers; k++) {
            layers[k].selected = true;
         }
      } catch (err) {
         alert(err);
      } finally {
         app.endUndoGroup();
      }
   };